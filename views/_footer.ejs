    </main>
    <footer class="site-footer">
      <p>&copy; 2026 PUTrace &mdash; Campus Item Recovery System</p>
      <p>Built with Node.js &amp; Supabase</p>
    </footer>
    <script>
      // Toggle password visibility
      function togglePassword(inputId, toggle) {
        var input = document.getElementById(inputId);
        if (input.type === 'password') {
          input.type = 'text';
          toggle.title = 'Hide password';
          toggle.textContent = 'Hide';
          toggle.style.opacity = '1';
        } else {
          input.type = 'password';
          toggle.title = 'Show password';
          toggle.textContent = 'Show';
          toggle.style.opacity = '0.55';
        }
      }

      // Restore scroll position after redirect
      (function () {
        var scrollY = sessionStorage.getItem("scrollY");
        if (scrollY) {
          window.scrollTo(0, parseInt(scrollY, 10));
          sessionStorage.removeItem("scrollY");
        }
        document.querySelectorAll("form").forEach(function (form) {
          form.addEventListener("submit", function () {
            sessionStorage.setItem("scrollY", window.scrollY);
          });
        });
      })();

      // Make success notifications more visible via modal confirmation
      (function () {
        var modal = document.getElementById("success-modal");
        if (!modal) return;
        var previousFocus = document.activeElement;

        function closeModal() {
          modal.style.display = "none";
          if (previousFocus && typeof previousFocus.focus === "function") previousFocus.focus();
        }

        var closeBtn = document.getElementById("success-modal-close");
        var okBtn = document.getElementById("success-modal-ok");

        if (closeBtn) closeBtn.addEventListener("click", closeModal);
        if (okBtn) okBtn.addEventListener("click", closeModal);
        if (okBtn) okBtn.focus();

        modal.addEventListener("click", function (event) {
          if (event.target === modal) closeModal();
        });

        document.addEventListener("keydown", function (event) {
          if (event.key === "Escape") closeModal();
          if (event.key === "Tab") {
            var focusable = [closeBtn, okBtn].filter(Boolean);
            if (focusable.length === 0) return;
            var first = focusable[0];
            var last = focusable[focusable.length - 1];
            var active = document.activeElement;
            if (event.shiftKey && active === first) {
              event.preventDefault();
              last.focus();
            } else if (!event.shiftKey && active === last) {
              event.preventDefault();
              first.focus();
            }
          }
        });
      })();
      // Error modal
      (function () {
        var modal = document.getElementById('error-modal');
        if (!modal) return;
        var previousFocus = document.activeElement;
        function closeModal() {
          modal.style.display = 'none';
          if (previousFocus && typeof previousFocus.focus === 'function') previousFocus.focus();
        }
        var closeBtn = document.getElementById('error-modal-close');
        var okBtn = document.getElementById('error-modal-ok');
        if (closeBtn) closeBtn.addEventListener('click', closeModal);
        if (okBtn) okBtn.addEventListener('click', closeModal);
        if (okBtn) okBtn.focus();
        modal.addEventListener('click', function (e) { if (e.target === modal) closeModal(); });
        document.addEventListener('keydown', function (e) { if (e.key === 'Escape') closeModal(); });
      })();

      // Hamburger nav toggle
      (function () {
        var toggle = document.getElementById('nav-toggle');
        var nav = document.getElementById('site-nav');
        if (!toggle || !nav) return;
        toggle.addEventListener('click', function () {
          var open = nav.classList.toggle('nav-open');
          toggle.setAttribute('aria-expanded', open ? 'true' : 'false');
          toggle.setAttribute('aria-label', open ? 'Close navigation menu' : 'Open navigation menu');
        });
        nav.querySelectorAll('a').forEach(function (link) {
          link.addEventListener('click', function () {
            nav.classList.remove('nav-open');
            toggle.setAttribute('aria-expanded', 'false');
            toggle.setAttribute('aria-label', 'Open navigation menu');
          });
        });
      })();
    </script>
  </body>
</html>
